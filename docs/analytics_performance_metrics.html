<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BensBot Pro - Analytics: Performance Metrics</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/recharts@2.1.12/umd/Recharts.min.js"></script>

    <style>
        :root {
            --bg-color: #14191f;
            --sidebar-bg: #0d1117;
            --card-bg: #1c2128;
            --accent-color: #2d81ff;
            --text-color: #e6e6e6;
            --border-color: #30363d;
            --success-color: #238636;
            --warning-color: #9e6a03;
            --danger-color: #f85149;
            --chart-grid: rgba(110, 118, 129, 0.1);
        }
        
        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        }
        
        .dashboard-card {
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 16px;
            margin-bottom: 16px;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const {
            LineChart, Line, BarChart, Bar, XAxis, YAxis, 
            CartesianGrid, Tooltip, Legend, ResponsiveContainer
        } = Recharts;

        const BacktestVsLivePerformance = () => {
            const strategies = ['Momentum', 'Mean Reversion', 'Breakout', 'Option Spreads'];
            const performanceData = [
                {
                    name: 'Momentum',
                    backtest: 12.8,
                    paper: 9.5,
                    live: 7.2
                },
                {
                    name: 'Mean Reversion',
                    backtest: 9.4,
                    paper: 8.1,
                    live: 6.5
                },
                {
                    name: 'Breakout',
                    backtest: 14.2,
                    paper: 10.3,
                    live: 8.7
                },
                {
                    name: 'Option Spreads',
                    backtest: 11.6,
                    paper: 8.9,
                    live: 7.8
                }
            ];
            
            return (
                <div className="dashboard-card">
                    <h2 className="text-xl font-semibold mb-4">Backtest vs. Live Performance</h2>
                    <div className="text-sm text-gray-400 mb-4">
                        Compare strategy returns across different stages of the pipeline
                    </div>
                    
                    <div style={{ height: "350px" }}>
                        <ResponsiveContainer width="100%" height="100%">
                            <BarChart
                                data={performanceData}
                                margin={{ top: 20, right: 30, left: 20, bottom: 5 }}
                            >
                                <CartesianGrid strokeDasharray="3 3" stroke="#30363d" />
                                <XAxis 
                                    dataKey="name"
                                    tick={{ fill: '#8b949e' }}
                                    axisLine={{ stroke: '#30363d' }}
                                />
                                <YAxis 
                                    tick={{ fill: '#8b949e' }}
                                    axisLine={{ stroke: '#30363d' }}
                                    tickFormatter={(value) => `${value}%`}
                                />
                                <Tooltip 
                                    contentStyle={{
                                        backgroundColor: '#24292e',
                                        borderColor: '#30363d',
                                        color: '#e6e6e6'
                                    }}
                                    formatter={(value) => [`${value}%`, '']}
                                />
                                <Legend 
                                    wrapperStyle={{ paddingTop: 10 }}
                                    formatter={(value) => <span style={{ color: '#e6e6e6' }}>{value}</span>}
                                />
                                <Bar dataKey="backtest" name="Backtest" fill="#4f85e5" radius={[4, 4, 0, 0]} />
                                <Bar dataKey="paper" name="Paper Trading" fill="#8884d8" radius={[4, 4, 0, 0]} />
                                <Bar dataKey="live" name="Live Trading" fill="#2dd4bf" radius={[4, 4, 0, 0]} />
                            </BarChart>
                        </ResponsiveContainer>
                    </div>
                    
                    <div className="text-xs text-gray-500 text-center mt-4">
                        Note: Backtest performance is typically higher due to ideal conditions and lack of execution factors
                    </div>
                </div>
            );
        };
        
        const CompareStrategyPerformance = () => {
            const performanceMetrics = [
                { name: 'Win Rate', momentum: 65, meanReversion: 58, breakout: 52, option: 61 },
                { name: 'Avg Win', momentum: 2.4, meanReversion: 1.8, breakout: 3.2, option: 1.5 },
                { name: 'Avg Loss', momentum: 1.2, meanReversion: 0.9, breakout: 1.8, option: 0.7 },
                { name: 'Profit Factor', momentum: 3.2, meanReversion: 2.7, breakout: 2.1, option: 3.5 },
                { name: 'Max Drawdown', momentum: 8.5, meanReversion: 7.2, breakout: 12.1, option: 5.8 },
                { name: 'Recovery Period', momentum: 18, meanReversion: 12, breakout: 24, option: 10 }
            ];
            
            return (
                <div className="dashboard-card">
                    <h2 className="text-xl font-semibold mb-4">Strategy Performance Metrics</h2>
                    
                    <div className="overflow-x-auto">
                        <table className="w-full">
                            <thead>
                                <tr className="text-left">
                                    <th className="pb-2 border-b border-gray-700 text-gray-400">Metrics</th>
                                    <th className="pb-2 border-b border-gray-700 text-blue-400">Momentum</th>
                                    <th className="pb-2 border-b border-gray-700 text-purple-400">Mean Reversion</th>
                                    <th className="pb-2 border-b border-gray-700 text-green-400">Breakout</th>
                                    <th className="pb-2 border-b border-gray-700 text-yellow-400">Option Spreads</th>
                                </tr>
                            </thead>
                            <tbody>
                                {performanceMetrics.map((metric, index) => (
                                    <tr key={index}>
                                        <td className="py-3 border-b border-gray-800 font-medium">{metric.name}</td>
                                        <td className="py-3 border-b border-gray-800">
                                            {metric.name === 'Win Rate' || metric.name === 'Max Drawdown' ? 
                                                `${metric.momentum}%` : 
                                                metric.name === 'Recovery Period' ? 
                                                    `${metric.momentum} days` : 
                                                    metric.momentum.toFixed(2)}
                                        </td>
                                        <td className="py-3 border-b border-gray-800">
                                            {metric.name === 'Win Rate' || metric.name === 'Max Drawdown' ? 
                                                `${metric.meanReversion}%` : 
                                                metric.name === 'Recovery Period' ? 
                                                    `${metric.meanReversion} days` : 
                                                    metric.meanReversion.toFixed(2)}
                                        </td>
                                        <td className="py-3 border-b border-gray-800">
                                            {metric.name === 'Win Rate' || metric.name === 'Max Drawdown' ? 
                                                `${metric.breakout}%` : 
                                                metric.name === 'Recovery Period' ? 
                                                    `${metric.breakout} days` : 
                                                    metric.breakout.toFixed(2)}
                                        </td>
                                        <td className="py-3 border-b border-gray-800">
                                            {metric.name === 'Win Rate' || metric.name === 'Max Drawdown' ? 
                                                `${metric.option}%` : 
                                                metric.name === 'Recovery Period' ? 
                                                    `${metric.option} days` : 
                                                    metric.option.toFixed(2)}
                                        </td>
                                    </tr>
                                ))}
                            </tbody>
                        </table>
                    </div>
                </div>
            );
        };
        
        const AnalyticsPerformanceMetrics = () => {
            return (
                <div className="container mx-auto p-6">
                    <h1 className="text-2xl font-bold mb-6">Analytics Dashboard: Performance Metrics</h1>
                    
                    <BacktestVsLivePerformance />
                    <CompareStrategyPerformance />
                </div>
            );
        };
        
        const App = () => {
            return (
                <div>
                    <div className="flex justify-between items-center p-6 bg-gray-900">
                        <h1 className="text-2xl font-bold text-white">BensBot Pro</h1>
                    </div>
                    <AnalyticsPerformanceMetrics />
                </div>
            );
        };
        
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
